<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Whiteboard</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Prevent scrolling */
        }
        canvas {
            display: block;
            margin: auto;
            border: 1px solid black;
            cursor: crosshair;
        }
        .search-bar {
            position: fixed;
            top: 10px;
            left: 10px;
        }
    </style>
</head>
<body>
    <canvas id="whiteboard" width="800" height="600"></canvas>

    <div class="search-bar">
        <input type="text" id="search-input" placeholder="Type commands here...">
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('whiteboard');
            const context = canvas.getContext('2d');
            let isDrawing = false;
            let lastX = 0;
            let lastY = 0;
            let color = 'black'; // Default color

            function draw(e) {
                if (!isDrawing) return;
                const x = e.touches ? e.touches[0].pageX - canvas.offsetLeft : e.offsetX;
                const y = e.touches ? e.touches[0].pageY - canvas.offsetTop : e.offsetY;
                context.strokeStyle = color;
                context.lineCap = 'round';
                context.lineJoin = 'round';
                context.lineWidth = 5;
                context.beginPath();
                context.moveTo(lastX, lastY);
                context.lineTo(x, y);
                context.stroke();
                [lastX, lastY] = [x, y];
            }

            function startDrawing(e) {
                e.preventDefault(); // Prevent scrolling on mobile devices
                isDrawing = true;
                [lastX, lastY] = [e.touches ? e.touches[0].pageX - canvas.offsetLeft : e.offsetX, e.touches ? e.touches[0].pageY - canvas.offsetTop : e.offsetY];
            }

            function stopDrawing() {
                isDrawing = false;
            }

            function handleCommand(command) {
                const args = command.split(' ');
                if (args.length >= 2) {
                    if (args[0] === '!background' && args[1] === 'black') {
                        document.body.style.backgroundColor = 'black';
                    } else if (args[0] === '!CL' && args[1] === 'white') {
                        color = 'white';
                    }
                }
            }

            const searchInput = document.getElementById('search-input');
            searchInput.addEventListener('keyup', (e) => {
                if (e.key === 'Enter') {
                    handleCommand(searchInput.value.trim());
                    searchInput.value = ''; // Clear input after processing command
                }
            });

            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);

            // Touch events
            canvas.addEventListener('touchstart', startDrawing);
            canvas.addEventListener('touchmove', draw);
            canvas.addEventListener('touchend', stopDrawing);
        });
    </script>
</body>
</html>
